{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/layout/bottom-nav.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { Home, TrendingUp, TrendingDown, ShoppingBag, PiggyBank } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface BottomNavProps {\r\n    year: string;\r\n    month: string;\r\n}\r\n\r\nexport function BottomNav({ year, month }: BottomNavProps) {\r\n    const pathname = usePathname();\r\n\r\n    const navItems = [\r\n        {\r\n            label: \"Dashboard\",\r\n            icon: Home,\r\n            href: `/${year}/${month}`,\r\n            match: (path: string) => path === `/${year}/${month}`,\r\n        },\r\n        {\r\n            label: \"Entradas\",\r\n            icon: TrendingUp,\r\n            href: `/${year}/${month}/incomes`,\r\n            match: (path: string) => path.includes(\"/incomes\"),\r\n        },\r\n        {\r\n            label: \"Saídas\",\r\n            icon: TrendingDown,\r\n            href: `/${year}/${month}/expenses`,\r\n            match: (path: string) => path.includes(\"/expenses\"),\r\n        },\r\n        {\r\n            label: \"Gastos\",\r\n            icon: ShoppingBag,\r\n            href: `/${year}/${month}/misc-expenses`,\r\n            match: (path: string) => path.includes(\"/misc-expenses\"),\r\n        },\r\n        {\r\n            label: \"Investimentos\",\r\n            icon: PiggyBank,\r\n            href: `/${year}/${month}/investments`,\r\n            match: (path: string) => path.includes(\"/investments\"),\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <nav className=\"fixed bottom-0 left-0 right-0 z-50 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\r\n            <div className=\"container mx-auto px-2\">\r\n                <div className=\"flex items-center justify-around py-2\">\r\n                    {navItems.map((item) => {\r\n                        const isActive = item.match(pathname);\r\n                        const Icon = item.icon;\r\n\r\n                        return (\r\n                            <Link\r\n                                key={item.href}\r\n                                href={item.href}\r\n                                className={cn(\r\n                                    \"flex flex-col items-center gap-1 rounded-lg px-3 py-2 transition-colors min-w-[60px]\",\r\n                                    isActive\r\n                                        ? \"text-primary\"\r\n                                        : \"text-muted-foreground hover:text-foreground\"\r\n                                )}\r\n                            >\r\n                                <Icon className={cn(\"h-5 w-5\", isActive && \"fill-primary/20\")} />\r\n                                <span className=\"text-xs font-medium\">{item.label}</span>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AALA;;;;;AAYO,SAAS,UAAU,EAAE,IAAI,EAAE,KAAK,EAAkB;;IACrD,MAAM,WAAW,IAAA,oJAAW;IAE5B,MAAM,WAAW;QACb;YACI,OAAO;YACP,MAAM,8MAAI;YACV,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,OAAO;YACzB,OAAO,CAAC,OAAiB,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,OAAO;QACzD;QACA;YACI,OAAO;YACP,MAAM,mOAAU;YAChB,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,QAAQ,CAAC;YACjC,OAAO,CAAC,OAAiB,KAAK,QAAQ,CAAC;QAC3C;QACA;YACI,OAAO;YACP,MAAM,yOAAY;YAClB,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,SAAS,CAAC;YAClC,OAAO,CAAC,OAAiB,KAAK,QAAQ,CAAC;QAC3C;QACA;YACI,OAAO;YACP,MAAM,sOAAW;YACjB,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,cAAc,CAAC;YACvC,OAAO,CAAC,OAAiB,KAAK,QAAQ,CAAC;QAC3C;QACA;YACI,OAAO;YACP,MAAM,gOAAS;YACf,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,YAAY,CAAC;YACrC,OAAO,CAAC,OAAiB,KAAK,QAAQ,CAAC;QAC3C;KACH;IAED,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;0BACV,SAAS,GAAG,CAAC,CAAC;oBACX,MAAM,WAAW,KAAK,KAAK,CAAC;oBAC5B,MAAM,OAAO,KAAK,IAAI;oBAEtB,qBACI,6LAAC,0KAAI;wBAED,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,4HAAE,EACT,wFACA,WACM,iBACA;;0CAGV,6LAAC;gCAAK,WAAW,IAAA,4HAAE,EAAC,WAAW,YAAY;;;;;;0CAC3C,6LAAC;gCAAK,WAAU;0CAAuB,KAAK,KAAK;;;;;;;uBAV5C,KAAK,IAAI;;;;;gBAa1B;;;;;;;;;;;;;;;;AAKpB;GAhEgB;;QACK,oJAAW;;;KADhB"}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/finance/plan-next-month-alert.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface PlanNextMonthAlertProps {\r\n    latestMonth: {\r\n        id: string;\r\n        year: number;\r\n        month: number;\r\n    } | null;\r\n}\r\n\r\nexport function PlanNextMonthAlert({ latestMonth }: PlanNextMonthAlertProps) {\r\n    const router = useRouter();\r\n    const [show, setShow] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [daysLeft, setDaysLeft] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const checkDate = () => {\r\n            const today = new Date();\r\n            const day = today.getDate();\r\n            const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();\r\n            const remaining = lastDay - day;\r\n\r\n            setDaysLeft(remaining);\r\n\r\n            // Show if it's after the 20th (design implies end of month urgency)\r\n            if (day >= 20) {\r\n                setShow(true);\r\n            }\r\n        };\r\n        checkDate();\r\n    }, []);\r\n\r\n    const handleDuplicate = async () => {\r\n        if (!latestMonth) return;\r\n\r\n        setLoading(true);\r\n        // Calculate next month\r\n        let nextMonth = latestMonth.month + 1;\r\n        let nextYear = latestMonth.year;\r\n        if (nextMonth > 12) {\r\n            nextMonth = 1;\r\n            nextYear += 1;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch(\"/api/months/duplicate\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    sourceMonthId: latestMonth.id,\r\n                    targetYear: nextYear,\r\n                    targetMonth: nextMonth,\r\n                }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                const newMonth = await res.json();\r\n                router.refresh();\r\n                router.push(`/${newMonth.year}/${newMonth.month}`);\r\n            } else {\r\n                alert(\"Erro ao duplicar mês ou mês já existe.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(\"Erro ao duplicar mês.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!show || !latestMonth) return null;\r\n\r\n    return (\r\n        <div className=\"flex flex-1 flex-col items-start justify-between gap-4 rounded-xl border border-green-200 bg-green-100 p-5 @[480px]:flex-row @[480px]:items-center\">\r\n            <div className=\"flex flex-col gap-1\">\r\n                <p className=\"text-green-800 text-base font-bold leading-tight\">\r\n                    Faltam {daysLeft} dias para o fim do mês!\r\n                </p>\r\n                <p className=\"text-green-600 text-base font-normal leading-normal\">\r\n                    Como deseja iniciar o planejamento do próximo mês?\r\n                </p>\r\n            </div>\r\n            <div className=\"flex w-full flex-col gap-2 @[480px]:w-auto @[480px]:flex-row\">\r\n                <button\r\n                    onClick={handleDuplicate}\r\n                    disabled={loading}\r\n                    className=\"flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-green-600 text-white text-sm font-bold leading-normal w-full transition-opacity hover:opacity-90 disabled:opacity-50\"\r\n                >\r\n                    <span className=\"truncate\">{loading ? \"Criando...\" : \"Duplicar Mês\"}</span>\r\n                </button>\r\n                {/* Optional: \"Começar do Zero\" button could just navigate to create month dialog or similar */}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAaO,SAAS,mBAAmB,EAAE,WAAW,EAA2B;;IACvE,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;wCAAC;YACN,MAAM;0DAAY;oBACd,MAAM,QAAQ,IAAI;oBAClB,MAAM,MAAM,MAAM,OAAO;oBACzB,MAAM,UAAU,IAAI,KAAK,MAAM,WAAW,IAAI,MAAM,QAAQ,KAAK,GAAG,GAAG,OAAO;oBAC9E,MAAM,YAAY,UAAU;oBAE5B,YAAY;oBAEZ,oEAAoE;oBACpE,IAAI,OAAO,IAAI;wBACX,QAAQ;oBACZ;gBACJ;;YACA;QACJ;uCAAG,EAAE;IAEL,MAAM,kBAAkB;QACpB,IAAI,CAAC,aAAa;QAElB,WAAW;QACX,uBAAuB;QACvB,IAAI,YAAY,YAAY,KAAK,GAAG;QACpC,IAAI,WAAW,YAAY,IAAI;QAC/B,IAAI,YAAY,IAAI;YAChB,YAAY;YACZ,YAAY;QAChB;QAEA,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,yBAAyB;gBAC7C,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBACjB,eAAe,YAAY,EAAE;oBAC7B,YAAY;oBACZ,aAAa;gBACjB;YACJ;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,MAAM,WAAW,MAAM,IAAI,IAAI;gBAC/B,OAAO,OAAO;gBACd,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,IAAI,CAAC,CAAC,EAAE,SAAS,KAAK,EAAE;YACrD,OAAO;gBACH,MAAM;YACV;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACV,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAI,CAAC,QAAQ,CAAC,aAAa,OAAO;IAElC,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAE,WAAU;;4BAAmD;4BACpD;4BAAS;;;;;;;kCAErB,6LAAC;wBAAE,WAAU;kCAAsD;;;;;;;;;;;;0BAIvE,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBACG,SAAS;oBACT,UAAU;oBACV,WAAU;8BAEV,cAAA,6LAAC;wBAAK,WAAU;kCAAY,UAAU,eAAe;;;;;;;;;;;;;;;;;;;;;;AAMzE;GApFgB;;QACG,kJAAS;;;KADZ"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { cn } from \"@/lib/utils\"\nimport { Cross2Icon } from \"@radix-ui/react-icons\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <Cross2Icon className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,2JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,iMAAU;gCAAC,WAAU;;;;;;0CACtB,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 499, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/lib/month-utils.ts"],"sourcesContent":["/**\r\n * Utility functions for month management\r\n */\r\n\r\nexport interface MonthInfo {\r\n    id: string;\r\n    year: number;\r\n    month: number;\r\n}\r\n\r\n/**\r\n * Check if a month can be deleted (must be in the future)\r\n */\r\nexport function canDeleteMonth(year: number, month: number): boolean {\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0); // Reset to start of day\r\n\r\n    const monthStart = new Date(year, month - 1, 1);\r\n    monthStart.setHours(0, 0, 0, 0);\r\n\r\n    return today < monthStart;\r\n}\r\n\r\n/**\r\n * Format month name in Portuguese\r\n */\r\nexport function formatMonthName(year: number, month: number): string {\r\n    const date = new Date(year, month - 1, 1);\r\n    return date.toLocaleString('pt-BR', {\r\n        month: 'long',\r\n        year: 'numeric'\r\n    });\r\n}\r\n\r\n/**\r\n * Capitalize first letter of a string\r\n */\r\nexport function capitalize(str: string): string {\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n/**\r\n * Find the previous month in the available months list\r\n */\r\nexport function findPreviousMonth(\r\n    currentYear: number,\r\n    currentMonth: number,\r\n    availableMonths: MonthInfo[]\r\n): MonthInfo | null {\r\n    const sorted = [...availableMonths].sort((a, b) => {\r\n        if (a.year !== b.year) return a.year - b.year;\r\n        return a.month - b.month;\r\n    });\r\n\r\n    const currentIndex = sorted.findIndex(\r\n        m => m.year === currentYear && m.month === currentMonth\r\n    );\r\n\r\n    if (currentIndex <= 0) return null;\r\n    return sorted[currentIndex - 1];\r\n}\r\n\r\n/**\r\n * Find the next month in the available months list\r\n */\r\nexport function findNextMonth(\r\n    currentYear: number,\r\n    currentMonth: number,\r\n    availableMonths: MonthInfo[]\r\n): MonthInfo | null {\r\n    const sorted = [...availableMonths].sort((a, b) => {\r\n        if (a.year !== b.year) return a.year - b.year;\r\n        return a.month - b.month;\r\n    });\r\n\r\n    const currentIndex = sorted.findIndex(\r\n        m => m.year === currentYear && m.month === currentMonth\r\n    );\r\n\r\n    if (currentIndex === -1 || currentIndex >= sorted.length - 1) return null;\r\n    return sorted[currentIndex + 1];\r\n}\r\n\r\n/**\r\n * Sort months chronologically\r\n */\r\nexport function sortMonths(months: MonthInfo[]): MonthInfo[] {\r\n    return [...months].sort((a, b) => {\r\n        if (a.year !== b.year) return a.year - b.year;\r\n        return a.month - b.month;\r\n    });\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;AAWM,SAAS,eAAe,IAAY,EAAE,KAAa;IACtD,MAAM,QAAQ,IAAI;IAClB,MAAM,QAAQ,CAAC,GAAG,GAAG,GAAG,IAAI,wBAAwB;IAEpD,MAAM,aAAa,IAAI,KAAK,MAAM,QAAQ,GAAG;IAC7C,WAAW,QAAQ,CAAC,GAAG,GAAG,GAAG;IAE7B,OAAO,QAAQ;AACnB;AAKO,SAAS,gBAAgB,IAAY,EAAE,KAAa;IACvD,MAAM,OAAO,IAAI,KAAK,MAAM,QAAQ,GAAG;IACvC,OAAO,KAAK,cAAc,CAAC,SAAS;QAChC,OAAO;QACP,MAAM;IACV;AACJ;AAKO,SAAS,WAAW,GAAW;IAClC,OAAO,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC;AACnD;AAKO,SAAS,kBACZ,WAAmB,EACnB,YAAoB,EACpB,eAA4B;IAE5B,MAAM,SAAS;WAAI;KAAgB,CAAC,IAAI,CAAC,CAAC,GAAG;QACzC,IAAI,EAAE,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,IAAI;QAC7C,OAAO,EAAE,KAAK,GAAG,EAAE,KAAK;IAC5B;IAEA,MAAM,eAAe,OAAO,SAAS,CACjC,CAAA,IAAK,EAAE,IAAI,KAAK,eAAe,EAAE,KAAK,KAAK;IAG/C,IAAI,gBAAgB,GAAG,OAAO;IAC9B,OAAO,MAAM,CAAC,eAAe,EAAE;AACnC;AAKO,SAAS,cACZ,WAAmB,EACnB,YAAoB,EACpB,eAA4B;IAE5B,MAAM,SAAS;WAAI;KAAgB,CAAC,IAAI,CAAC,CAAC,GAAG;QACzC,IAAI,EAAE,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,IAAI;QAC7C,OAAO,EAAE,KAAK,GAAG,EAAE,KAAK;IAC5B;IAEA,MAAM,eAAe,OAAO,SAAS,CACjC,CAAA,IAAK,EAAE,IAAI,KAAK,eAAe,EAAE,KAAK,KAAK;IAG/C,IAAI,iBAAiB,CAAC,KAAK,gBAAgB,OAAO,MAAM,GAAG,GAAG,OAAO;IACrE,OAAO,MAAM,CAAC,eAAe,EAAE;AACnC;AAKO,SAAS,WAAW,MAAmB;IAC1C,OAAO;WAAI;KAAO,CAAC,IAAI,CAAC,CAAC,GAAG;QACxB,IAAI,EAAE,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,IAAI;QAC7C,OAAO,EAAE,KAAK,GAAG,EAAE,KAAK;IAC5B;AACJ"}},
    {"offset": {"line": 569, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/finance/month-navigation.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { ChevronLeft, ChevronRight, Calendar, Trash2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { MonthInfo, capitalize, formatMonthName } from \"@/lib/month-utils\";\r\n\r\ninterface MonthNavigationProps {\r\n    currentMonth: MonthInfo;\r\n    allMonths: MonthInfo[];\r\n    previousMonth: MonthInfo | null;\r\n    nextMonth: MonthInfo | null;\r\n    canDelete: boolean;\r\n}\r\n\r\nexport function MonthNavigation({\r\n    currentMonth,\r\n    allMonths,\r\n    previousMonth,\r\n    nextMonth,\r\n    canDelete,\r\n}: MonthNavigationProps) {\r\n    const router = useRouter();\r\n    const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n    const currentMonthName = capitalize(formatMonthName(currentMonth.year, currentMonth.month));\r\n\r\n    const navigateToMonth = (month: MonthInfo) => {\r\n        router.push(`/${month.year}/${month.month}`);\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        setIsDeleting(true);\r\n        try {\r\n            const res = await fetch(`/api/months/${currentMonth.id}`, {\r\n                method: \"DELETE\",\r\n            });\r\n\r\n            if (res.ok) {\r\n                // Navigate to previous month or home if no previous month\r\n                if (previousMonth) {\r\n                    router.push(`/${previousMonth.year}/${previousMonth.month}`);\r\n                } else if (nextMonth) {\r\n                    router.push(`/${nextMonth.year}/${nextMonth.month}`);\r\n                } else {\r\n                    router.push(\"/\");\r\n                }\r\n                router.refresh();\r\n            } else {\r\n                const data = await res.json();\r\n                alert(data.error || \"Erro ao excluir mês\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error deleting month:\", error);\r\n            alert(\"Erro ao excluir mês\");\r\n        } finally {\r\n            setIsDeleting(false);\r\n            setDeleteDialogOpen(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flex items-center justify-between gap-2\">\r\n                {/* Previous Month Button */}\r\n                <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    onClick={() => previousMonth && navigateToMonth(previousMonth)}\r\n                    disabled={!previousMonth}\r\n                    className=\"h-9 w-9\"\r\n                >\r\n                    <ChevronLeft className=\"h-4 w-4\" />\r\n                </Button>\r\n\r\n                {/* Month Selector Dropdown */}\r\n                <DropdownMenu>\r\n                    <DropdownMenuTrigger asChild>\r\n                        <Button variant=\"outline\" className=\"flex-1 justify-between gap-2 h-9\">\r\n                            <span className=\"font-semibold\">{currentMonthName}</span>\r\n                            <Calendar className=\"h-4 w-4 opacity-50\" />\r\n                        </Button>\r\n                    </DropdownMenuTrigger>\r\n                    <DropdownMenuContent align=\"center\" className=\"w-56 max-h-[300px] overflow-y-auto\">\r\n                        {allMonths.map((month) => {\r\n                            const isCurrent = month.year === currentMonth.year && month.month === currentMonth.month;\r\n                            const monthName = capitalize(formatMonthName(month.year, month.month));\r\n                            return (\r\n                                <DropdownMenuItem\r\n                                    key={`${month.year}-${month.month}`}\r\n                                    onClick={() => navigateToMonth(month)}\r\n                                    className={isCurrent ? \"bg-accent font-semibold\" : \"\"}\r\n                                >\r\n                                    {isCurrent && \"✓ \"}\r\n                                    {monthName}\r\n                                </DropdownMenuItem>\r\n                            );\r\n                        })}\r\n                    </DropdownMenuContent>\r\n                </DropdownMenu>\r\n\r\n                {/* Next Month Button */}\r\n                <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    onClick={() => nextMonth && navigateToMonth(nextMonth)}\r\n                    disabled={!nextMonth}\r\n                    className=\"h-9 w-9\"\r\n                >\r\n                    <ChevronRight className=\"h-4 w-4\" />\r\n                </Button>\r\n\r\n                {/* Delete Button (only if allowed) */}\r\n                {canDelete && (\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        size=\"icon\"\r\n                        onClick={() => setDeleteDialogOpen(true)}\r\n                        className=\"h-9 w-9 text-red-600 hover:text-red-600 hover:bg-red-50\"\r\n                    >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Delete Confirmation Dialog */}\r\n            <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Excluir mês</DialogTitle>\r\n                        <DialogDescription>\r\n                            Tem certeza que deseja excluir <strong>{currentMonthName}</strong>?\r\n                            Esta ação não pode ser desfeita e todos os dados do mês serão permanentemente removidos.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <DialogFooter>\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={() => setDeleteDialogOpen(false)}\r\n                            disabled={isDeleting}\r\n                        >\r\n                            Cancelar\r\n                        </Button>\r\n                        <Button\r\n                            variant=\"destructive\"\r\n                            onClick={handleDelete}\r\n                            disabled={isDeleting}\r\n                        >\r\n                            {isDeleting ? \"Excluindo...\" : \"Excluir\"}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}