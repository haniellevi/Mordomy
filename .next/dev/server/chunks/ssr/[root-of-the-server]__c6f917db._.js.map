{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst globalForPrisma = global as unknown as { prisma: PrismaClient };\r\n\r\nexport const prisma =\r\n    globalForPrisma.prisma ||\r\n    new PrismaClient({\r\n        log: [\"query\"],\r\n    });\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SACT,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACb,KAAK;QAAC;KAAQ;AAClB;AAEJ,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/finance/expense-table.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ExpenseTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call ExpenseTable() from the server but ExpenseTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/finance/expense-table.tsx <module evaluation>\",\n    \"ExpenseTable\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,0EACA","ignoreList":[0]}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/finance/expense-table.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ExpenseTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call ExpenseTable() from the server but ExpenseTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/finance/expense-table.tsx\",\n    \"ExpenseTable\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,sDACA","ignoreList":[0]}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/finance/add-expense-dialog.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AddExpenseDialog = registerClientReference(\n    function() { throw new Error(\"Attempted to call AddExpenseDialog() from the server but AddExpenseDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/finance/add-expense-dialog.tsx <module evaluation>\",\n    \"AddExpenseDialog\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,+EACA","ignoreList":[0]}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/finance/add-expense-dialog.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AddExpenseDialog = registerClientReference(\n    function() { throw new Error(\"Attempted to call AddExpenseDialog() from the server but AddExpenseDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/finance/add-expense-dialog.tsx\",\n    \"AddExpenseDialog\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,wQAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,2DACA","ignoreList":[0]}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/layout/bottom-nav.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BottomNav = registerClientReference(\n    function() { throw new Error(\"Attempted to call BottomNav() from the server but BottomNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/layout/bottom-nav.tsx <module evaluation>\",\n    \"BottomNav\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,sEACA","ignoreList":[0]}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/layout/bottom-nav.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BottomNav = registerClientReference(\n    function() { throw new Error(\"Attempted to call BottomNav() from the server but BottomNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/layout/bottom-nav.tsx\",\n    \"BottomNav\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,kDACA","ignoreList":[0]}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,yDACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/app/%28dashboard%29/%5Byear%5D/%5Bmonth%5D/expenses/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\r\nimport { getCurrentUser } from \"@/lib/session\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { ExpenseTable } from \"@/components/finance/expense-table\";\r\nimport { AddExpenseDialog } from \"@/components/finance/add-expense-dialog\";\r\nimport { BottomNav } from \"@/components/layout/bottom-nav\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { formatCurrency } from \"@/lib/utils\";\r\n\r\ninterface ExpensesPageProps {\r\n    params: Promise<{\r\n        year: string;\r\n        month: string;\r\n    }>;\r\n}\r\n\r\nexport default async function ExpensesPage({ params }: ExpensesPageProps) {\r\n    const user = await getCurrentUser();\r\n\r\n    if (!user) {\r\n        redirect(\"/login\");\r\n    }\r\n\r\n    const { year: yearStr, month: monthStr } = await params;\r\n    const year = parseInt(yearStr);\r\n    const month = parseInt(monthStr);\r\n\r\n    const monthData = await prisma.month.findFirst({\r\n        where: {\r\n            userId: user.id,\r\n            year: year,\r\n            month: month,\r\n        },\r\n        include: {\r\n            incomes: true,\r\n            expenses: { orderBy: { order: \"asc\" } },\r\n        },\r\n    });\r\n\r\n    if (!monthData) {\r\n        redirect(\"/\");\r\n    }\r\n\r\n    const totalIncome = monthData.incomes.reduce((sum, income) => sum + Number(income.amount), 0);\r\n    const totalPaid = monthData.expenses.reduce((sum, expense) => sum + Number(expense.paidAmount), 0);\r\n    const balance = totalIncome - totalPaid;\r\n\r\n    // Converter Decimal para number para Client Components\r\n    const expensesData = monthData.expenses.map(exp => ({\r\n        ...exp,\r\n        totalAmount: Number(exp.totalAmount),\r\n        paidAmount: Number(exp.paidAmount),\r\n    }));\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container mx-auto p-4 space-y-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <h1 className=\"text-2xl font-bold\">Sa√≠das</h1>\r\n                    <AddExpenseDialog monthId={monthData.id} />\r\n                </div>\r\n\r\n                <div className=\"grid gap-4 md:grid-cols-2\">\r\n                    <Card className=\"bg-accent-red/10 border-accent-red/20\">\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n                                Total Pago\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <p className=\"text-3xl font-bold text-accent-red\">\r\n                                {formatCurrency(totalPaid)}\r\n                            </p>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    <Card className={balance >= 0 ? \"bg-accent-green/10 border-accent-green/20\" : \"bg-accent-red/10 border-accent-red/20\"}>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n                                Saldo Restante\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <p className={`text-3xl font-bold ${balance >= 0 ? \"text-accent-green\" : \"text-accent-red\"}`}>\r\n                                {formatCurrency(balance)}\r\n                            </p>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n\r\n                <ExpenseTable expenses={expensesData} />\r\n            </div>\r\n\r\n            <BottomNav year={yearStr} month={monthStr} />\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AASe,eAAe,aAAa,EAAE,MAAM,EAAqB;IACpE,MAAM,OAAO,MAAM,IAAA,uIAAc;IAEjC,IAAI,CAAC,MAAM;QACP,IAAA,iMAAQ,EAAC;IACb;IAEA,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,QAAQ,EAAE,GAAG,MAAM;IACjD,MAAM,OAAO,SAAS;IACtB,MAAM,QAAQ,SAAS;IAEvB,MAAM,YAAY,MAAM,8HAAM,CAAC,KAAK,CAAC,SAAS,CAAC;QAC3C,OAAO;YACH,QAAQ,KAAK,EAAE;YACf,MAAM;YACN,OAAO;QACX;QACA,SAAS;YACL,SAAS;YACT,UAAU;gBAAE,SAAS;oBAAE,OAAO;gBAAM;YAAE;QAC1C;IACJ;IAEA,IAAI,CAAC,WAAW;QACZ,IAAA,iMAAQ,EAAC;IACb;IAEA,MAAM,cAAc,UAAU,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,SAAW,MAAM,OAAO,OAAO,MAAM,GAAG;IAC3F,MAAM,YAAY,UAAU,QAAQ,CAAC,MAAM,CAAC,CAAC,KAAK,UAAY,MAAM,OAAO,QAAQ,UAAU,GAAG;IAChG,MAAM,UAAU,cAAc;IAE9B,uDAAuD;IACvD,MAAM,eAAe,UAAU,QAAQ,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;YAChD,GAAG,GAAG;YACN,aAAa,OAAO,IAAI,WAAW;YACnC,YAAY,OAAO,IAAI,UAAU;QACrC,CAAC;IAED,qBACI;;0BACI,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAAqB;;;;;;0CACnC,8OAAC,6KAAgB;gCAAC,SAAS,UAAU,EAAE;;;;;;;;;;;;kCAG3C,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,wIAAI;gCAAC,WAAU;;kDACZ,8OAAC,8IAAU;kDACP,cAAA,8OAAC,6IAAS;4CAAC,WAAU;sDAA4C;;;;;;;;;;;kDAIrE,8OAAC,+IAAW;kDACR,cAAA,8OAAC;4CAAE,WAAU;sDACR,IAAA,qIAAc,EAAC;;;;;;;;;;;;;;;;;0CAK5B,8OAAC,wIAAI;gCAAC,WAAW,WAAW,IAAI,8CAA8C;;kDAC1E,8OAAC,8IAAU;kDACP,cAAA,8OAAC,6IAAS;4CAAC,WAAU;sDAA4C;;;;;;;;;;;kDAIrE,8OAAC,+IAAW;kDACR,cAAA,8OAAC;4CAAE,WAAW,CAAC,mBAAmB,EAAE,WAAW,IAAI,sBAAsB,mBAAmB;sDACvF,IAAA,qIAAc,EAAC;;;;;;;;;;;;;;;;;;;;;;;kCAMhC,8OAAC,iKAAY;wBAAC,UAAU;;;;;;;;;;;;0BAG5B,8OAAC,0JAAS;gBAAC,MAAM;gBAAS,OAAO;;;;;;;;AAG7C"}}]
}