{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/layout/bottom-nav.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { Home, TrendingUp, TrendingDown, ShoppingBag, PiggyBank } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface BottomNavProps {\r\n    year: string;\r\n    month: string;\r\n}\r\n\r\nexport function BottomNav({ year, month }: BottomNavProps) {\r\n    const pathname = usePathname();\r\n\r\n    const navItems = [\r\n        {\r\n            label: \"Dashboard\",\r\n            icon: Home,\r\n            href: `/${year}/${month}`,\r\n            match: (path: string) => path === `/${year}/${month}`,\r\n        },\r\n        {\r\n            label: \"Entradas\",\r\n            icon: TrendingUp,\r\n            href: `/${year}/${month}/incomes`,\r\n            match: (path: string) => path.includes(\"/incomes\"),\r\n        },\r\n        {\r\n            label: \"Saídas\",\r\n            icon: TrendingDown,\r\n            href: `/${year}/${month}/expenses`,\r\n            match: (path: string) => path.includes(\"/expenses\"),\r\n        },\r\n        {\r\n            label: \"Gastos\",\r\n            icon: ShoppingBag,\r\n            href: `/${year}/${month}/misc-expenses`,\r\n            match: (path: string) => path.includes(\"/misc-expenses\"),\r\n        },\r\n        {\r\n            label: \"Investimentos\",\r\n            icon: PiggyBank,\r\n            href: `/${year}/${month}/investments`,\r\n            match: (path: string) => path.includes(\"/investments\"),\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <nav className=\"fixed bottom-0 left-0 right-0 z-50 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\r\n            <div className=\"container mx-auto px-2\">\r\n                <div className=\"flex items-center justify-around py-2\">\r\n                    {navItems.map((item) => {\r\n                        const isActive = item.match(pathname);\r\n                        const Icon = item.icon;\r\n\r\n                        return (\r\n                            <Link\r\n                                key={item.href}\r\n                                href={item.href}\r\n                                className={cn(\r\n                                    \"flex flex-col items-center gap-1 rounded-lg px-3 py-2 transition-colors min-w-[60px]\",\r\n                                    isActive\r\n                                        ? \"text-primary\"\r\n                                        : \"text-muted-foreground hover:text-foreground\"\r\n                                )}\r\n                            >\r\n                                <Icon className={cn(\"h-5 w-5\", isActive && \"fill-primary/20\")} />\r\n                                <span className=\"text-xs font-medium\">{item.label}</span>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;;;;;;AAYO,SAAS,UAAU,EAAE,IAAI,EAAE,KAAK,EAAkB;IACrD,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,WAAW;QACb;YACI,OAAO;YACP,MAAM,2MAAI;YACV,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,OAAO;YACzB,OAAO,CAAC,OAAiB,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,OAAO;QACzD;QACA;YACI,OAAO;YACP,MAAM,gOAAU;YAChB,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,QAAQ,CAAC;YACjC,OAAO,CAAC,OAAiB,KAAK,QAAQ,CAAC;QAC3C;QACA;YACI,OAAO;YACP,MAAM,sOAAY;YAClB,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,SAAS,CAAC;YAClC,OAAO,CAAC,OAAiB,KAAK,QAAQ,CAAC;QAC3C;QACA;YACI,OAAO;YACP,MAAM,mOAAW;YACjB,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,cAAc,CAAC;YACvC,OAAO,CAAC,OAAiB,KAAK,QAAQ,CAAC;QAC3C;QACA;YACI,OAAO;YACP,MAAM,6NAAS;YACf,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,MAAM,YAAY,CAAC;YACrC,OAAO,CAAC,OAAiB,KAAK,QAAQ,CAAC;QAC3C;KACH;IAED,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;0BACV,SAAS,GAAG,CAAC,CAAC;oBACX,MAAM,WAAW,KAAK,KAAK,CAAC;oBAC5B,MAAM,OAAO,KAAK,IAAI;oBAEtB,qBACI,8OAAC,uKAAI;wBAED,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,yHAAE,EACT,wFACA,WACM,iBACA;;0CAGV,8OAAC;gCAAK,WAAW,IAAA,yHAAE,EAAC,WAAW,YAAY;;;;;;0CAC3C,8OAAC;gCAAK,WAAU;0CAAuB,KAAK,KAAK;;;;;;;uBAV5C,KAAK,IAAI;;;;;gBAa1B;;;;;;;;;;;;;;;;AAKpB"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hanie/OneDrive/Documentos/workspace/Mordomy/src/components/finance/plan-next-month-alert.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface PlanNextMonthAlertProps {\r\n    latestMonth: {\r\n        id: string;\r\n        year: number;\r\n        month: number;\r\n    } | null;\r\n}\r\n\r\nexport function PlanNextMonthAlert({ latestMonth }: PlanNextMonthAlertProps) {\r\n    const router = useRouter();\r\n    const [show, setShow] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [daysLeft, setDaysLeft] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const checkDate = () => {\r\n            const today = new Date();\r\n            const day = today.getDate();\r\n            const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();\r\n            const remaining = lastDay - day;\r\n\r\n            setDaysLeft(remaining);\r\n\r\n            // Show if it's after the 20th (design implies end of month urgency)\r\n            if (day >= 20) {\r\n                setShow(true);\r\n            }\r\n        };\r\n        checkDate();\r\n    }, []);\r\n\r\n    const handleDuplicate = async () => {\r\n        if (!latestMonth) return;\r\n\r\n        setLoading(true);\r\n        // Calculate next month\r\n        let nextMonth = latestMonth.month + 1;\r\n        let nextYear = latestMonth.year;\r\n        if (nextMonth > 12) {\r\n            nextMonth = 1;\r\n            nextYear += 1;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch(\"/api/months/duplicate\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    sourceMonthId: latestMonth.id,\r\n                    targetYear: nextYear,\r\n                    targetMonth: nextMonth,\r\n                }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                const newMonth = await res.json();\r\n                router.refresh();\r\n                router.push(`/${newMonth.year}/${newMonth.month}`);\r\n            } else {\r\n                alert(\"Erro ao duplicar mês ou mês já existe.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(\"Erro ao duplicar mês.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!show || !latestMonth) return null;\r\n\r\n    return (\r\n        <div className=\"flex flex-1 flex-col items-start justify-between gap-4 rounded-xl border border-green-200 bg-green-100 p-5 @[480px]:flex-row @[480px]:items-center\">\r\n            <div className=\"flex flex-col gap-1\">\r\n                <p className=\"text-green-800 text-base font-bold leading-tight\">\r\n                    Faltam {daysLeft} dias para o fim do mês!\r\n                </p>\r\n                <p className=\"text-green-600 text-base font-normal leading-normal\">\r\n                    Como deseja iniciar o planejamento do próximo mês?\r\n                </p>\r\n            </div>\r\n            <div className=\"flex w-full flex-col gap-2 @[480px]:w-auto @[480px]:flex-row\">\r\n                <button\r\n                    onClick={handleDuplicate}\r\n                    disabled={loading}\r\n                    className=\"flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-green-600 text-white text-sm font-bold leading-normal w-full transition-opacity hover:opacity-90 disabled:opacity-50\"\r\n                >\r\n                    <span className=\"truncate\">{loading ? \"Criando...\" : \"Duplicar Mês\"}</span>\r\n                </button>\r\n                {/* Optional: \"Começar do Zero\" button could just navigate to create month dialog or similar */}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAaO,SAAS,mBAAmB,EAAE,WAAW,EAA2B;IACvE,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACN,MAAM,YAAY;YACd,MAAM,QAAQ,IAAI;YAClB,MAAM,MAAM,MAAM,OAAO;YACzB,MAAM,UAAU,IAAI,KAAK,MAAM,WAAW,IAAI,MAAM,QAAQ,KAAK,GAAG,GAAG,OAAO;YAC9E,MAAM,YAAY,UAAU;YAE5B,YAAY;YAEZ,oEAAoE;YACpE,IAAI,OAAO,IAAI;gBACX,QAAQ;YACZ;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,MAAM,kBAAkB;QACpB,IAAI,CAAC,aAAa;QAElB,WAAW;QACX,uBAAuB;QACvB,IAAI,YAAY,YAAY,KAAK,GAAG;QACpC,IAAI,WAAW,YAAY,IAAI;QAC/B,IAAI,YAAY,IAAI;YAChB,YAAY;YACZ,YAAY;QAChB;QAEA,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,yBAAyB;gBAC7C,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBACjB,eAAe,YAAY,EAAE;oBAC7B,YAAY;oBACZ,aAAa;gBACjB;YACJ;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,MAAM,WAAW,MAAM,IAAI,IAAI;gBAC/B,OAAO,OAAO;gBACd,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,IAAI,CAAC,CAAC,EAAE,SAAS,KAAK,EAAE;YACrD,OAAO;gBACH,MAAM;YACV;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACV,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAI,CAAC,QAAQ,CAAC,aAAa,OAAO;IAElC,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAE,WAAU;;4BAAmD;4BACpD;4BAAS;;;;;;;kCAErB,8OAAC;wBAAE,WAAU;kCAAsD;;;;;;;;;;;;0BAIvE,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBACG,SAAS;oBACT,UAAU;oBACV,WAAU;8BAEV,cAAA,8OAAC;wBAAK,WAAU;kCAAY,UAAU,eAAe;;;;;;;;;;;;;;;;;;;;;;AAMzE"}}]
}