{"version":3,"sources":["../../../../src/components/ui/card.tsx","../../../../src/lib/prisma.ts","../../../../src/components/layout/bottom-nav.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/finance/misc-expense-table.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/finance/add-misc-expense-dialog.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/%28dashboard%29/%5Byear%5D/%5Bmonth%5D/misc-expenses/page.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst globalForPrisma = global as unknown as { prisma: PrismaClient };\r\n\r\nexport const prisma =\r\n    globalForPrisma.prisma ||\r\n    new PrismaClient({\r\n        log: [\"query\"],\r\n    });\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\r\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BottomNav = registerClientReference(\n    function() { throw new Error(\"Attempted to call BottomNav() from the server but BottomNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/layout/bottom-nav.tsx\",\n    \"BottomNav\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const MiscExpenseTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call MiscExpenseTable() from the server but MiscExpenseTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/finance/misc-expense-table.tsx\",\n    \"MiscExpenseTable\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AddMiscExpenseDialog = registerClientReference(\n    function() { throw new Error(\"Attempted to call AddMiscExpenseDialog() from the server but AddMiscExpenseDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/finance/add-misc-expense-dialog.tsx\",\n    \"AddMiscExpenseDialog\",\n);\n","import { redirect } from \"next/navigation\";\r\nimport { getCurrentUser } from \"@/lib/session\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { MiscExpenseTable } from \"@/components/finance/misc-expense-table\";\r\nimport { AddMiscExpenseDialog } from \"@/components/finance/add-misc-expense-dialog\";\r\nimport { BottomNav } from \"@/components/layout/bottom-nav\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { formatCurrency } from \"@/lib/utils\";\r\n\r\ninterface MiscExpensesPageProps {\r\n    params: Promise<{\r\n        year: string;\r\n        month: string;\r\n    }>;\r\n}\r\n\r\nexport default async function MiscExpensesPage({ params }: MiscExpensesPageProps) {\r\n    const user = await getCurrentUser();\r\n\r\n    if (!user) {\r\n        redirect(\"/login\");\r\n    }\r\n\r\n    const { year: yearStr, month: monthStr } = await params;\r\n    const year = parseInt(yearStr);\r\n    const month = parseInt(monthStr);\r\n\r\n    const monthData = await prisma.month.findFirst({\r\n        where: {\r\n            userId: user.id,\r\n            year: year,\r\n            month: month,\r\n        },\r\n        include: {\r\n            miscExpenses: true,\r\n        },\r\n    });\r\n\r\n    if (!monthData) {\r\n        redirect(\"/\");\r\n    }\r\n\r\n    const totalMiscExpenses = monthData.miscExpenses.reduce(\r\n        (sum, expense) => sum + Number(expense.amount),\r\n        0\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container mx-auto p-4 space-y-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <h1 className=\"text-2xl font-bold\">Gastos Avulsos</h1>\r\n                    <AddMiscExpenseDialog monthId={monthData.id} />\r\n                </div>\r\n\r\n                <Card className=\"bg-accent-red/10 border-accent-red/20\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n                            Total de Gastos Avulsos\r\n                        </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <p className=\"text-3xl font-bold text-accent-red\">\r\n                            {formatCurrency(totalMiscExpenses)}\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                <MiscExpenseTable miscExpenses={monthData.miscExpenses} />\r\n            </div>\r\n\r\n            <BottomNav year={yearStr} month={monthStr} />\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[2,3,4]}